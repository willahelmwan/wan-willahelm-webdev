(function () {
    angular
        .module("<%= name %>")
        .service("<%= entityName %>Service", <%= entityName %>Service);

    function <%= entityName %>Service($http) {
        this.findAll<%= entityName %>s = findAll<%= entityName %>s;
        this.create<%= entityName %> = create<%= entityName %>;

        function create<%= entityName %>(<%= entityName %>) {
            var url = "/wam/api/<%= entityName %>";
            return $http.post(url, <%= entityName %>)
                .then(function (response) {
                    return response.data;
            });
        }

        function findAll<%= entityName %>s() {
            var url = "/wam/api/<%= entityName %>";
            return $http.get(url)
                .then(function (response) {
                    return response.data;
                });
        }
    }
})();