(function(){
    angular
        .module("<%= name %>")
        .service("<%= entityName %>Service",
                    <%= entityName %>Service);

    function <%= entityName %>Service($http) {
        this.findAll = findAll;
        this.findById = findById;
        this.create<%= entityName %> = create<%= entityName %>;

        function create<%= entityName %>(<%= entityName %>) {
            var url = "/wam/api/<%= entityName %>";
            return $http.post(url, <%= entityName %>)
                then(function(response) {
                    return response.data;
                });
        }


        function findById(id) {
            var url = "/wam/api/<%= entityName %>/"+id;
            return $http.get(url)
                .then(function(response){
                   return response.data;
            });
        }

        function findAll() {
            var url = "/wam/api/<%= entityName %>";
            return $http.get(url)
                .then(function(response){
                    return response.data;
                });
        }
    }
})();